server.port=${SERVER_PORT:8081}

# Database Configuration - Using environment variables for Docker deployment
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:changeme}
spring.datasource.url=jdbc:mysql://${DB_HOST:mysql}:${DB_PORT:3306}/${DB_NAME:kulin}?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=UTF-8&connectionCollation=utf8mb4_unicode_ci&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.sql.init.mode=never

spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# File upload directory - supports both local and Docker paths
file.upload-dir=${FILE_UPLOAD_DIR:/app/uploads/}

# OpenSCA tool path - supports both local and Docker paths
opensca.tool-path=${OPENSCA_TOOL_PATH:/app/opensca/}

# Flask Crawler Service URL - supports Docker deployment
flask.crawler.url=${FLASK_CRAWLER_URL:http://vulsystem-flask-crawler:5000}

# XXL-Job Configuration - supports Docker deployment
xxl.job.admin.addresses=${XXL_JOB_ADMIN_ADDRESSES:http://xxl-job-admin:8080/xxl-job-admin}
xxl.job.accessToken=${XXL_JOB_ACCESS_TOKEN:}
xxl.job.executor.appname=${XXL_JOB_EXECUTOR_APPNAME:vulsystem-executor}
xxl.job.executor.port=${XXL_JOB_EXECUTOR_PORT:9999}
xxl.job.executor.logpath=${XXL_JOB_EXECUTOR_LOGPATH:./logs/xxl-job/jobhandler}

# HTTP Encoding Configuration - 解决中文乱码
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true

# Jackson Configuration - 禁用Unicode转义
spring.jackson.default-property-inclusion=non_null
