import{d as B,l as f,c as d,a as _,A as t,p as a,w as u,B as R,D as w,a0 as Z,t as I,x as S,E as T,a3 as D,ch as L,ay as V,cq as k,f as v,cj as x,cr as b,ct as $,o as h,aG as j}from"./index-GjuQlPlU.js";const q={class:"register"},G={class:"card"},J={class:"input-container"},M={class:"input-container"},P={key:0,class:"warning"},W={class:"input-container"},F={class:"strength-indicator"},H={class:"strength-text"},K={class:"input-container"},O={key:0,class:"warning"},Q=B({__name:"RegisterView",setup(X){const p=f(""),r=f(""),l=f(""),c=f(""),g=d(()=>r.value?/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(r.value):!0),s=d(()=>{if(!l.value)return"";const m=l.value.length>=6,e=l.value.length>=10,n=l.value.match(/[A-Z]/),i=l.value.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/),o=l.value.match(/[0-9]/),U=l.value.match(/[a-z]/);return!m||!n||!o||!U?"weak":e&&i?"strong":"medium"}),C=d(()=>s.value===""?"":s.value==="weak"?"密码较弱，请重新选择":s.value==="medium"?"密码强度中等":"密码较强"),y=d(()=>s.value===""?"":s.value==="weak"?"#dc2626":s.value==="medium"?"#667eea":"#10b981"),z=d(()=>s.value===""?"":s.value==="weak"?"25%":s.value==="medium"?"50%":"75%"),A=d(()=>p.value.length!==0&&r.value.length!==0&&g.value&&l.value.length!=0&&l.value===c.value&&s.value!=="weak"),E=()=>{const m={username:p.value,email:r.value,password:l.value,phone:""};L.register(m).then(e=>{console.log(e),V.success("注册成功！"),k.push("/login")}).catch(e=>{var n;console.error("注册失败:",e),V.error(((n=e==null?void 0:e.data)==null?void 0:n.message)||"注册失败，请稍后重试")})},N=()=>{k.push("/login")};return(m,e)=>{const n=T,i=R;return h(),_("div",q,[t("div",G,[e[10]||(e[10]=t("h2",null,"库灵之眼系统",-1)),t("div",J,[e[4]||(e[4]=t("div",{class:"input-title"},"用户名",-1)),a(i,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),placeholder:"请输入您的用户名",clearable:""},{prefix:u(()=>[a(n,null,{default:u(()=>[a(v(x))]),_:1})]),_:1},8,["modelValue"])]),t("div",M,[e[5]||(e[5]=t("div",{class:"input-title"},"邮箱",-1)),a(i,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=o=>r.value=o),placeholder:"请输入您常用的邮箱",clearable:""},{prefix:u(()=>[a(n,null,{default:u(()=>[a(v(x))]),_:1})]),_:1},8,["modelValue"]),g.value?w("",!0):(h(),_("div",P,"邮箱格式不正确"))]),t("div",W,[e[6]||(e[6]=t("div",{class:"input-title"},"密码",-1)),a(i,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value=o),"show-password":"",placeholder:"请输入密码",clearable:""},{prefix:u(()=>[a(n,null,{default:u(()=>[a(v(b))]),_:1})]),_:1},8,["modelValue"]),t("div",F,[t("div",{class:"strength",style:Z({width:z.value,backgroundColor:y.value})},null,4),t("span",H,I(C.value),1)])]),t("div",K,[e[7]||(e[7]=t("div",{class:"input-title"},"确认您的密码",-1)),a(i,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=o=>c.value=o),"show-password":"",placeholder:"请再次输入密码",clearable:""},{prefix:u(()=>[a(n,null,{default:u(()=>[a(v(b))]),_:1})]),_:1},8,["modelValue"]),c.value!==""&&l.value!==c.value?(h(),_("div",O,"两次密码不一致")):w("",!0)]),t("div",{class:S(["confirm-button",{disabled:!A.value}]),onClick:E},[a(n,null,{default:u(()=>[a(v($))]),_:1}),e[8]||(e[8]=t("span",{class:"confirm-text"},"注册",-1))],2),t("div",{class:"other-container",onClick:N},e[9]||(e[9]=[D(" 已经有账户？"),t("span",{class:"link"},"去登录",-1)]))])])}}}),ee=j(Q,[["__scopeId","data-v-3d850e16"]]);export{ee as default};
